# 페이지네이션 사용 가이드

## ✅ 구현 완료

검색 결과 페이지네이션이 추가되었습니다. 이제 대량의 검색 결과를 페이지별로 볼 수 있습니다.

## 🚀 사용 방법

### 1. 프론트엔드 재시작 (필수)

변경사항을 적용하려면 프론트엔드를 재시작해야 합니다:

```bash
# 현재 실행 중인 프론트엔드 서버 중지 (Ctrl+C)
npm run dev
```

### 2. 페이지네이션 확인

1. **홈 페이지에서 검색**
   - 키워드 검색: "품질", "관리", "생산" 등
   - 또는 필터 검색 사용

2. **검색 결과 페이지 확인**
   - 결과가 20개 이상이면 페이지네이션이 자동으로 표시됩니다
   - 페이지 하단에 페이지 번호와 네비게이션 버튼이 나타납니다

3. **페이지 이동**
   - 페이지 번호 클릭: 해당 페이지로 이동
   - 이전 버튼 (◀): 이전 페이지로 이동
   - 다음 버튼 (▶): 다음 페이지로 이동
   - 페이지 변경 시 자동으로 상단으로 스크롤됩니다

### 3. 필터 변경 시 동작

- 필터를 변경하면 자동으로 **1페이지로 리셋**됩니다
- 새로운 검색 결과에 대한 페이지네이션이 표시됩니다

## 📊 페이지네이션 UI 구성

```
[◀] [1] [2] [3] ... [10] [▶]  1 / 10 페이지
```

- **◀ 이전 버튼**: 첫 페이지에서는 비활성화
- **페이지 번호**: 현재 페이지는 파란색으로 강조
- **... 생략 표시**: 페이지가 많을 때 표시
- **▶ 다음 버튼**: 마지막 페이지에서는 비활성화
- **페이지 정보**: "현재 페이지 / 전체 페이지" 표시

## 🧪 테스트 방법

### 방법 1: 브라우저에서 직접 테스트

1. 프론트엔드 실행: `npm run dev`
2. 브라우저에서 `http://localhost:5173` 접속
3. 검색 실행 (예: "품질" 검색)
4. 검색 결과 페이지에서 페이지네이션 확인

### 방법 2: API 직접 테스트

브라우저에서 다음 URL을 테스트:

```
# 1페이지 (기본값)
http://localhost:3000/api/ability-units?keyword=품질&page=1&limit=20

# 2페이지
http://localhost:3000/api/ability-units?keyword=품질&page=2&limit=20

# 3페이지
http://localhost:3000/api/ability-units?keyword=품질&page=3&limit=20
```

**예상 응답:**
```json
{
  "success": true,
  "data": [...],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 150,
    "totalPages": 8,
    "hasNext": true,
    "hasPrev": false
  }
}
```

## ⚙️ 설정 변경

### 페이지당 항목 수 변경

기본값은 20개입니다. 변경하려면:

**프론트엔드 (`src/pages/SearchResultsPage.tsx`):**
```typescript
const [localFilters, setLocalFilters] = useState<SearchFilters>({
  ...filters,
  page: 1,
  limit: 20,  // 여기를 변경 (예: 10, 30, 50)
})
```

**백엔드 (`server/routes/abilityUnits.js`):**
```javascript
const limitNum = parseInt(limit) || 20  // 기본값 변경
```

## 🔍 확인 사항

### 정상 작동 확인

- [ ] 검색 결과가 20개 이상일 때 페이지네이션 표시
- [ ] 페이지 번호 클릭 시 해당 페이지로 이동
- [ ] 이전/다음 버튼 정상 작동
- [ ] 현재 페이지가 파란색으로 강조됨
- [ ] 필터 변경 시 1페이지로 리셋
- [ ] 페이지 변경 시 상단으로 스크롤
- [ ] 총 개수가 올바르게 표시됨

### 문제 해결

**페이지네이션이 표시되지 않음:**
- 검색 결과가 20개 미만인지 확인
- 브라우저 콘솔에서 오류 확인
- 프론트엔드 재시작 확인

**페이지 이동이 안 됨:**
- 백엔드 서버가 실행 중인지 확인
- API 응답에 `pagination` 객체가 있는지 확인
- 브라우저 네트워크 탭에서 API 호출 확인

**총 개수가 잘못됨:**
- 데이터베이스에 실제 데이터가 있는지 확인
- 백엔드 서버 콘솔에서 쿼리 로그 확인

## 📝 API 파라미터

### 요청 파라미터

- `page` (선택): 페이지 번호 (기본값: 1)
- `limit` (선택): 페이지당 항목 수 (기본값: 20)

### 응답 구조

```typescript
{
  success: boolean
  data: AbilityUnit[]
  pagination: {
    page: number          // 현재 페이지
    limit: number        // 페이지당 항목 수
    total: number        // 전체 항목 수
    totalPages: number    // 전체 페이지 수
    hasNext: boolean     // 다음 페이지 존재 여부
    hasPrev: boolean     // 이전 페이지 존재 여부
  }
}
```

## 💡 팁

1. **성능 최적화**: 페이지네이션으로 대량 데이터를 효율적으로 처리
2. **사용자 경험**: 필터 변경 시 자동으로 1페이지로 리셋되어 직관적
3. **네비게이션**: 페이지 번호와 이전/다음 버튼으로 쉬운 이동

## 🎯 다음 단계

페이지네이션이 정상 작동하면:

1. ✅ 검색 기능 완전 테스트
2. ✅ 상세 페이지 확인
3. ✅ 장바구니 기능 테스트
4. ✅ 다른 기능 요청 (예: "Excel 다운로드 기능 구현해줘")


