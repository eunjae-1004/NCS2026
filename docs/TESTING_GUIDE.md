# 기능 테스트 가이드

현재까지 구현된 NCS 능력단위 검색 시스템의 기능을 확인하는 방법입니다.

## 1단계: 서버 실행 확인

### API 서버 실행

```bash
# 서버 폴더로 이동
cd server

# 서버 실행
node index.js
```

**성공 메시지:**
```
🚀 API 서버가 http://localhost:3000 에서 실행 중입니다.
📚 API 문서: http://localhost:3000/api
```

**확인 방법:**
- 브라우저에서 `http://localhost:3000/api/organizations` 접속
- JSON 데이터가 보이면 정상 작동

### 프론트엔드 서버 실행

**새 터미널 창에서:**

```bash
# 프로젝트 루트로 이동
cd D:\Website\cursor\ncssearch2026

# 프론트엔드 실행
npm run dev
```

**성공 메시지:**
```
  VITE v5.x.x  ready in xxx ms

  ➜  Local:   http://localhost:5173/
```

## 2단계: 브라우저에서 접속

1. 브라우저에서 `http://localhost:5173` 접속
2. 애플리케이션이 정상적으로 로드되는지 확인

## 3단계: 각 기능 테스트

### A. 로그인/기관 선택 페이지

**경로:** `http://localhost:5173/login` 또는 자동 리다이렉트

**테스트 항목:**
1. ✅ 이름 입력 필드 확인
2. ✅ 기관 선택 드롭다운 확인
3. ✅ "로그인" 버튼 클릭 → 홈으로 이동
4. ✅ "건너뛰기" 버튼 클릭 → 게스트 모드로 홈 이동

**예상 결과:**
- 로그인 후 헤더에 사용자 이름 표시
- 기관 정보 표시 (선택한 경우)

### B. 홈 대시보드

**경로:** `http://localhost:5173/`

**테스트 항목:**
1. ✅ "직무로 찾기" 카드 클릭
   - `/search?mode=job`로 이동 확인
2. ✅ "키워드로 찾기" 카드 클릭
   - `/search?mode=keyword`로 이동 확인
3. ✅ "추천으로 시작하기" 카드 클릭
   - `/recommendation`으로 이동 확인
4. ✅ 헤더의 장바구니 아이콘 확인
   - 장바구니 아이템 개수 표시 확인

### C. 직무/산업/부서 입력 페이지 (챗봇형 UX)

**경로:** `http://localhost:5173/search?mode=job`

**테스트 항목:**

#### 자유 입력 모드:
1. ✅ 입력 필드에 "품질관리팀" 입력 → 전송
   - 시스템 응답: "품질관리(표준)로 매핑되었습니다" 확인
   - 자동으로 검색 결과 페이지로 이동
2. ✅ 입력 필드에 "QA" 입력 → 전송
   - 별칭 매핑 작동 확인
3. ✅ 입력 필드에 "알수없음" 입력 → 전송
   - 후보 선택 UI 표시 확인
   - 후보 중 하나 선택 → 검색 결과로 이동

#### 드롭다운 모드:
1. ✅ "드롭다운 선택" 버튼 클릭
2. ✅ 부서/산업/직무 카테고리 선택
3. ✅ 드롭다운에서 항목 선택
   - 자동으로 검색 결과 페이지로 이동

**키워드 모드:**
- `http://localhost:5173/search?mode=keyword` 접속
- 키워드 입력 → 검색 결과 확인

### D. 검색 결과 리스트

**경로:** `http://localhost:5173/results`

**테스트 항목:**

#### 좌측 필터:
1. ✅ 산업분야 필터 선택
   - 결과 필터링 확인
2. ✅ 부서 필터 선택
   - 결과 필터링 확인
3. ✅ 직무군/직무 필터 선택
   - 결과 필터링 확인
4. ✅ 레벨(숙련도) 필터 선택
   - 결과 필터링 확인
5. ✅ "필터 초기화" 버튼
   - 모든 필터 해제 확인

#### 우측 결과 리스트:
1. ✅ 능력단위명, 코드, 요약 표시 확인
2. ✅ 수행준거 하이라이트 표시 확인
3. ✅ "상세보기" 버튼 클릭
   - 능력단위 상세 페이지로 이동
4. ✅ "장바구니 추가" 버튼 클릭
   - 알림 메시지 확인
   - 헤더의 장바구니 아이콘에 개수 증가 확인

### E. 능력단위 상세 페이지

**경로:** `http://localhost:5173/ability/1`

**테스트 항목:**
1. ✅ 능력단위명, 코드 표시 확인
2. ✅ 능력단위 정의 섹션 확인
3. ✅ 능력단위 요소 섹션 확인
4. ✅ 수행준거 (전체) 섹션 확인
5. ✅ 지식/기술/태도 (K/S/A) 섹션 확인
   - 3개 컬럼으로 표시 확인
6. ✅ 관련 키워드/태그 섹션 확인
7. ✅ "장바구니 추가" 버튼 클릭
8. ✅ "유사 능력단위 보기" 버튼 클릭
   - 검색 결과 페이지로 이동 (필터 적용)

### F. 장바구니

**경로:** `http://localhost:5173/cart`

**테스트 항목:**
1. ✅ 선택한 능력단위 리스트 표시 확인
2. ✅ 각 아이템의 메모 추가/수정 기능
   - "추가" 또는 "수정" 버튼 클릭
   - 텍스트 입력 → 저장
3. ✅ "세트 저장" 버튼 클릭
   - 다이얼로그 표시
   - 세트 이름 입력 (예: "품질팀_검사업무_신입")
   - 저장 확인
4. ✅ 저장된 세트 목록 표시 확인
   - 세트 이름 클릭 → 장바구니에 로드
   - X 버튼 → 세트 삭제
5. ✅ "엑셀 다운로드" 버튼 클릭
   - 엑셀 파일 다운로드 확인
   - 파일 내용 확인 (코드, 이름, 요약, 메모 등)
6. ✅ 각 아이템의 삭제 버튼 (휴지통 아이콘)
7. ✅ "전체 삭제" 버튼
   - 확인 다이얼로그 → 장바구니 비우기

### G. 추천 페이지

**경로:** `http://localhost:5173/recommendation`

**테스트 항목:**
1. ✅ 산업분야 드롭다운 선택
2. ✅ 부서 드롭다운 선택
3. ✅ "추천 보기" 버튼 클릭
   - 로딩 상태 표시 확인
   - 추천 결과 표시 확인
4. ✅ 추천 이유 표시 확인
   - 배지 색상 확인 (매핑 기반/인기 기반)
5. ✅ "상세보기" 버튼 클릭
6. ✅ "바로 담기" 버튼 클릭
   - 장바구니에 추가 확인

## 4단계: Mock 데이터 vs 실제 API 전환

### 현재 상태: Mock 데이터 사용 중

프론트엔드는 기본적으로 Mock 데이터를 사용합니다.

### 실제 API 사용으로 전환

1. **프로젝트 루트에 `.env` 파일 생성:**
```env
VITE_API_BASE_URL=http://localhost:3000/api
VITE_USE_MOCK_DATA=false
```

2. **프론트엔드 서버 재시작:**
   - 현재 실행 중인 서버 중지 (Ctrl+C)
   - `npm run dev` 다시 실행

3. **확인:**
   - 브라우저 개발자 도구 → Network 탭
   - 검색 시 `http://localhost:3000/api/ability-units`로 요청 전송 확인

## 5단계: 에러 처리 확인

### 로딩 상태
- 각 페이지에서 데이터 로딩 시 로딩 스피너 표시 확인

### 에러 메시지
- API 서버를 중지한 상태에서 검색 시도
- 에러 메시지 표시 확인

### 에러 바운더리
- 예상치 못한 에러 발생 시 에러 페이지 표시 확인

## 6단계: 상태 관리 확인

### 사용자 정보
- 로그인 후 사용자 정보가 전역 상태에 저장되는지 확인
- 페이지 새로고침 시 상태 유지 확인 (현재는 세션 스토리지 사용 안 함)

### 검색 필터
- 필터 설정 후 검색 결과 페이지로 이동
- 필터 값이 유지되는지 확인

### 장바구니
- 여러 페이지에서 장바구니 추가
- 장바구니 페이지에서 모든 아이템 확인

## 7단계: 반응형 디자인 확인

1. 브라우저 창 크기 조절
2. 모바일 뷰 (개발자 도구 → 디바이스 모드)
3. 태블릿 뷰
4. 각 화면 크기에서 레이아웃 확인

## 문제 해결

### 서버가 실행되지 않는 경우
- 포트 3000이 이미 사용 중인지 확인
- `netstat -ano | findstr :3000`
- 다른 포트 사용: `.env` 파일에서 `PORT=3001` 설정

### 프론트엔드가 실행되지 않는 경우
- 포트 5173이 이미 사용 중인지 확인
- `npm install` 다시 실행
- `node_modules` 삭제 후 재설치

### API 요청이 실패하는 경우
- API 서버가 실행 중인지 확인
- 브라우저 개발자 도구 → Console 탭에서 에러 확인
- CORS 에러인 경우 서버의 CORS 설정 확인

## 체크리스트

- [ ] API 서버 실행 확인
- [ ] 프론트엔드 서버 실행 확인
- [ ] 로그인 페이지 테스트
- [ ] 홈 대시보드 테스트
- [ ] 검색 입력 페이지 테스트 (자유 입력)
- [ ] 검색 입력 페이지 테스트 (드롭다운)
- [ ] 검색 결과 페이지 테스트
- [ ] 능력단위 상세 페이지 테스트
- [ ] 장바구니 기능 테스트
- [ ] 추천 페이지 테스트
- [ ] 엑셀 다운로드 테스트
- [ ] 반응형 디자인 확인


